"use strict";!function(){function e(e){for(var t=0;t<$(".link a").length;t++){var r=$(".link a")[t];r.getAttribute("href")=="#"+e.$$path?r.parentElement.classList.add("active"):(r.parentElement.classList.remove("active"),r.parentElement.classList.remove("active"))}}function t(e){for(var t={},r=e[0].date.getUTCFullYear(),n=[],a=0;a<e.length;a++){var l=e[a];l.date.getFullYear()==r?n.push(l):(t[r]=n,r=l.date.getUTCFullYear(),n=[],n.push(l))}return t[r]=n,t}function r(e,t){if(!e)return[[],[]];if(e[0].date>=t)return[[],e];var r;for(r=1;r<e.length&&!(e[r].date>=t);r++);return r==e.length?[e,[]]:[e.slice(0,r),e.slice(r)]}angular.module("myApp",["ngRoute"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"templates/main.htm",controller:"PageController"}).when("/program",{templateUrl:"templates/program.htm",controller:"ProgramController"}).when("/join",{templateUrl:"templates/join.htm",controller:"PageController"}).when("/people",{templateUrl:"templates/people.htm",controller:"PageController"}).otherwise({redirectTo:"/"})}]).controller("PageController",["$scope","$route","$location",function(t,r,n){e(n)}]).controller("ProgramController",["$scope","$route","$location","$http",function(n,a,l,o){e(l),o({method:"GET",url:"../admin/program.json"}).then(function(e){for(var a={highlight:"bg-success",compulsory:"bg-primary",public:"bg-info",private:"bg-danger",none:""},l={highlight:"Highlight",compulsory:"Obligatorisch",public:"Ã–ffentlich",private:"Privat",none:"Mitglieder"},o=0;o<e.data.length;o++){var i=e.data[o];i.date=new Date(i.date),i.cat=l[i.tag],i.tag=a[i.tag]}var g=e.data.sort(function(e,t){return e.date<t.date?-1:e.date>t.date?1:0}),c=new Date,m=new Date(moment(c).format("YYYY-MM-DD"));console.log(m);var u=t(g),p=Object.keys(u),s=p.indexOf(m.getUTCFullYear().toString()),h={},d=r(u[m.getUTCFullYear()],m);d[1].length>0&&(h[m.getUTCFullYear()]=d[1]);for(var o=s+1;o<p.length;o++)h[p[o]]=u[p[o]];var f=!1;n.pastElements=function(){f=!f,f?(n.program=u,n.link="Vergangene Elemente ausblenden"):(n.program=h,n.link="Vergangene Elemente anzeigen")},n.link="Vergangene Elemente anzeigen",n.program=h},function(e){n.error=e.statusText,n.link="",n.program={}})}])}();